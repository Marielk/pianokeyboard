{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/piano/piano.component.ts","webpack:///src/app/components/piano/piano.component.html","webpack:///src/app/models/pianoTones.model.ts","webpack:///src/app/services/audio-tone.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","imports","providers","bootstrap","PianoComponent","audioS","keyboard","Object","entries","play","kickoff","document","addEventListener","keycode","keyCode","key","find","Number","note","split","Tones","map","Keyboard","keyboardCustom","AudiotoneService","context","AudioContext","webkitAudioContext","attack","release","volume","type","createGain","freq","envelope","gain","setValueAtTime","currentTime","connect","destination","setTargetAtTime","osc","createOscillator","frequency","start","setTimeout","stop","disconnect","cancelScheduledValues","freqOrNote","octave","playFrequency","toLowerCase","providedIn","environment","production","bootstrapModule","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'piano-keyboard';\r\n}\r\n","<app-piano></app-piano>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { PianoComponent } from './components/piano/piano.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    PianoComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { AudiotoneService } from 'src/app/services/audio-tone.service';\r\n\r\n@Component({\r\n  selector: 'app-piano',\r\n  templateUrl: './piano.component.html',\r\n  styleUrls: ['./piano.component.scss']\r\n})\r\nexport class PianoComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('keyboard') keyDiv: ElementRef;\r\n  keyboard = Object.entries(this.audioS.keyboard);\r\n  constructor(private audioS: AudiotoneService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n  ngAfterViewInit() {\r\n    this.play();\r\n  }\r\n\r\n  play() {\r\n    this.audioS.kickoff();\r\n    // this.audioS.playFrequency(130.813)\r\n    document.addEventListener('keydown', (e) => {\r\n      // tslint:disable-next-line: deprecation\r\n      const keycode = e.keyCode;\r\n      // console.log(keycode);\r\n      const key =  this.keyboard.find((code) => { if ( Number(code[0]) === keycode ) { return code; }});\r\n      if (key) {\r\n        const note = key[1].split(',');\r\n        this.audioS.play(note[0], note[1]);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<p>Let´s play!</p>\r\n\r\n<div id=\"keyboard\" #keyboard>\r\n  <div *ngFor=\"let key of keyboard\">\r\n    {{key}}\r\n  </div>\r\n</div>\r\n","export class Tones {\r\n map: Array<any>;\r\n\r\n constructor() {\r\n   this.map =  [{\r\n    // octave 0\r\n    'c': 16.351,\r\n    'c#': 17.324,\r\n    'db': 17.324,\r\n    'd': 18.354,\r\n    'd#': 19.445,\r\n    'eb': 19.445,\r\n    'e': 20.601,\r\n    'f': 21.827,\r\n    'f#': 23.124,\r\n    'gb': 23.124,\r\n    'g': 24.499,\r\n    'g#': 25.956,\r\n    'ab': 25.956,\r\n    'a': 27.5,\r\n    'a#': 29.135,\r\n    'bb': 29.135,\r\n    'b': 30.868\r\n},\r\n{\r\n    // octave 1\r\n    'c': 32.703,\r\n    'c#': 34.648,\r\n    'db': 34.648,\r\n    'd': 36.708,\r\n    'd#': 38.891,\r\n    'eb': 38.891,\r\n    'e': 41.203,\r\n    'f': 43.654,\r\n    'f#': 46.249,\r\n    'gb': 46.249,\r\n    'g': 48.999,\r\n    'g#': 51.913,\r\n    'ab': 51.913,\r\n    'a': 55,\r\n    'a#': 58.27,\r\n    'bb': 58.27,\r\n    'b': 61.735\r\n},\r\n{\r\n    // octave 2\r\n    'c': 65.406,\r\n    'c#': 69.296,\r\n    'db': 69.296,\r\n    'd': 73.416,\r\n    'd#': 77.782,\r\n    'eb': 77.782,\r\n    'e': 82.407,\r\n    'f': 87.307,\r\n    'f#': 92.499,\r\n    'gb': 92.499,\r\n    'g': 97.999,\r\n    'g#': 103.826,\r\n    'ab': 103.826,\r\n    'a': 110,\r\n    'a#': 116.541,\r\n    'bb': 116.541,\r\n    'b': 123.471\r\n},\r\n{\r\n    // octave 3\r\n    'c': 130.813,\r\n    'c#': 138.591,\r\n    'db': 138.591,\r\n    'd': 146.832,\r\n    'd#': 155.563,\r\n    'eb': 155.563,\r\n    'e': 164.814,\r\n    'f': 174.614,\r\n    'f#': 184.997,\r\n    'gb': 184.997,\r\n    'g': 195.998,\r\n    'g#': 207.652,\r\n    'ab': 207.652,\r\n    'a': 220,\r\n    'a#': 233.082,\r\n    'bb': 233.082,\r\n    'b': 246.942\r\n},\r\n{\r\n    // octave 4\r\n    'c': 261.626,\r\n    'c#': 277.183,\r\n    'db': 277.183,\r\n    'd': 293.665,\r\n    'd#': 311.127,\r\n    'eb': 311.127,\r\n    'e': 329.628,\r\n    'f': 349.228,\r\n    'f#': 369.994,\r\n    'gb': 369.994,\r\n    'g': 391.995,\r\n    'g#': 415.305,\r\n    'ab': 415.305,\r\n    'a': 440,\r\n    'a#': 466.164,\r\n    'bb': 466.164,\r\n    'b': 493.883\r\n},\r\n{\r\n    // octave 5\r\n    'c': 523.251,\r\n    'c#': 554.365,\r\n    'db': 554.365,\r\n    'd': 587.33,\r\n    'd#': 622.254,\r\n    'eb': 622.254,\r\n    'e': 659.255,\r\n    'f': 698.456,\r\n    'f#': 739.989,\r\n    'gb': 739.989,\r\n    'g': 783.991,\r\n    'g#': 830.609,\r\n    'ab': 830.609,\r\n    'a': 880,\r\n    'a#': 932.328,\r\n    'bb': 932.328,\r\n    'b': 987.767\r\n},\r\n{\r\n    // octave 6\r\n    'c': 1046.502,\r\n    'c#': 1108.731,\r\n    'db': 1108.731,\r\n    'd': 1174.659,\r\n    'd#': 1244.508,\r\n    'eb': 1244.508,\r\n    'e': 1318.51,\r\n    'f': 1396.913,\r\n    'f#': 1479.978,\r\n    'gb': 1479.978,\r\n    'g': 1567.982,\r\n    'g#': 1661.219,\r\n    'ab': 1661.219,\r\n    'a': 1760,\r\n    'a#': 1864.655,\r\n    'bb': 1864.655,\r\n    'b': 1975.533\r\n},\r\n{\r\n    // octave 7\r\n    'c': 2093.005,\r\n    'c#': 2217.461,\r\n    'db': 2217.461,\r\n    'd': 2349.318,\r\n    'd#': 2489.016,\r\n    'eb': 2489.016,\r\n    'e': 2637.021,\r\n    'f': 2793.826,\r\n    'f#': 2959.955,\r\n    'gb': 2959.955,\r\n    'g': 3135.964,\r\n    'g#': 3322.438,\r\n    'ab': 3322.438,\r\n    'a': 3520,\r\n    'a#': 3729.31,\r\n    'bb': 3729.31,\r\n    'b': 3951.066\r\n},\r\n{\r\n    // octave 8\r\n    'c': 4186.009,\r\n    'c#': 4434.922,\r\n    'db': 4434.922,\r\n    'd': 4698.636,\r\n    'd#': 4978.032,\r\n    'eb': 4978.032,\r\n    'e': 5274.042,\r\n    'f': 5587.652,\r\n    'f#': 5919.91,\r\n    'gb': 5919.91,\r\n    'g': 6271.928,\r\n    'g#': 6644.876,\r\n    'ab': 6644.876,\r\n    'a': 7040,\r\n    'a#': 7458.62,\r\n    'bb': 7458.62,\r\n    'b': 7902.132\r\n},\r\n{\r\n    // octave 9\r\n    'c': 8372.018,\r\n    'c#': 8869.844,\r\n    'db': 8869.844,\r\n    'd': 9397.272,\r\n    'd#': 9956.064,\r\n    'eb': 9956.064,\r\n    'e': 10548.084,\r\n    'f': 11175.304,\r\n    'f#': 11839.82,\r\n    'gb': 11839.82,\r\n    'g': 12543.856,\r\n    'g#': 13289.752,\r\n    'ab': 13289.752,\r\n    'a': 14080,\r\n    'a#': 14917.24,\r\n    'bb': 14917.24,\r\n    'b': 15804.264\r\n  }];\r\n }\r\n}\r\n\r\nexport class Keyboard {\r\n  keyboardCustom = {\r\n    65: 'c,4, white',\r\n    83: 'd,4, white',\r\n    68: 'e,4, white',\r\n    70: 'f,4, white',\r\n    71: 'g,4, white',\r\n    72: 'a,4, white',\r\n    74: 'b,4, white',\r\n    75: 'c,5, white',\r\n    76: 'd,5, white',\r\n    192: 'e,5, white',\r\n    /* Negras  */\r\n    87: 'c#,4, black',\r\n    69: 'd#,4, black',\r\n    84: 'f#,4, black',\r\n    89: 'g#,4, black',\r\n    85: 'a#,4, black',\r\n    79: 'c#,5, black',\r\n    80: 'd#,5, black'\r\n  };\r\n  keyboard = {\r\n    /* ~ */\r\n    192: 'C,-2',\r\n\r\n    /* 1 */\r\n    49: 'C#,-2',\r\n\r\n    /* 2 */\r\n    50: 'D,-2',\r\n\r\n    /* 3 */\r\n    51: 'D#,-2',\r\n\r\n    /* 4 */\r\n    52: 'E,-2',\r\n\r\n    /* 5 */\r\n    53: 'F,-2',\r\n\r\n    /* 6 */\r\n    54: 'F#,-2',\r\n\r\n    /* 7 */\r\n    55: 'G,-2',\r\n\r\n    /* 8 */\r\n    56: 'G#,-2',\r\n\r\n    /* 9 */\r\n    57: 'A,-2',\r\n\r\n    /* 0 */\r\n    48: 'A#,-2',\r\n\r\n    /* - */\r\n    189: 'B,-2',\r\n\r\n    /* = */\r\n    187: 'C,-1',\r\n\r\n    /* Q */\r\n    81: 'C#,-1',\r\n\r\n    /* W */\r\n    87: 'D,-1',\r\n\r\n    /* E */\r\n    69: 'D#,-1',\r\n\r\n    /* R */\r\n    82: 'E,-1',\r\n\r\n    /* T */\r\n    84: 'F,-1',\r\n\r\n    /* Y */\r\n    89: 'F#,-1',\r\n\r\n    /* U */\r\n    85: 'G,-1',\r\n\r\n    /* I */\r\n    73: 'G#,-1',\r\n\r\n    /* O */\r\n    79: 'A,-1',\r\n\r\n    /* P */\r\n    80: 'A#,-1',\r\n\r\n    /* [ */\r\n    219: 'B,-1',\r\n\r\n    /* ] */\r\n    221: 'C,0',\r\n\r\n    /* A */\r\n    65: 'C#,0',\r\n\r\n    /* S */\r\n    83: 'D,0',\r\n\r\n    /* D */\r\n    68: 'D#,0',\r\n\r\n    /* F */\r\n    70: 'E,0',\r\n\r\n    /* G */\r\n    71: 'F,0',\r\n\r\n    /* H */\r\n    72: 'F#,0',\r\n\r\n    /* J */\r\n    74: 'G,0',\r\n\r\n    /* K */\r\n    75: 'G#,0',\r\n\r\n    /* L */\r\n    76: 'A,0',\r\n\r\n    /* ; */\r\n    186: 'A#,0',\r\n\r\n    /* \" */\r\n    222: 'B,0',\r\n\r\n    /* Z */\r\n    90: 'C,1',\r\n\r\n    /* X */\r\n    88: 'C#,1',\r\n\r\n    /* C */\r\n    67: 'D,1',\r\n\r\n    /* V */\r\n    86: 'D#,1',\r\n\r\n    /* B */\r\n    66: 'E,1',\r\n\r\n    /* N */\r\n    78: 'F,1',\r\n\r\n    /* M */\r\n    77: 'F#,1',\r\n\r\n    /* , */\r\n    188: 'G,1',\r\n\r\n    /* . */\r\n    190: 'G#,1',\r\n\r\n    /* / */\r\n    191: 'A,1',\r\n\r\n    /* <- */\r\n    37: 'A#,1',\r\n\r\n    /* -> */\r\n    39: 'B,1',\r\n\r\n  };\r\n}","import { Injectable } from '@angular/core';\r\nimport { Tones, Keyboard } from '../models/pianoTones.model';\r\n\r\n// tslint:disable-next-line: one-variable-per-declaration\r\ndeclare var AudioContext, webkitAudioContext: any;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AudiotoneService {\r\n  context = new (AudioContext || webkitAudioContext)();\r\n  attack = 1;\r\n  release = 100;\r\n  volume = 1;\r\n  type: OscillatorType = 'triangle';\r\n  map = new Tones().map;\r\n  keyboard = new Keyboard().keyboardCustom;\r\n  constructor() { }\r\n\r\n  kickoff() {\r\n    this.context.createGain();\r\n  }\r\n\r\n  playFrequency(freq) {\r\n    this.attack = this.attack || 1;\r\n    this.release = this.release || 1;\r\n    const envelope = this.context.createGain();\r\n    envelope.gain.setValueAtTime(this.volume, this.context.currentTime);\r\n    envelope.connect(this.context.destination);\r\n\r\n    envelope.gain.setValueAtTime(0, this.context.currentTime);\r\n    envelope.gain.setTargetAtTime(this.volume, this.context.currentTime, this.attack / 1000);\r\n    \r\n    const osc = this.context.createOscillator();\r\n    osc.frequency.setValueAtTime(freq, this.context.currentTime);\r\n    osc.type = this.type;\r\n    osc.connect(envelope);\r\n    osc.start();\r\n    // debugger\r\n    if (this.release) {\r\n        envelope.gain.setTargetAtTime(0, this.context.currentTime + this.attack / 1000, this.release / 1000);\r\n        setTimeout(() => {\r\n            osc.stop();\r\n            osc.disconnect(envelope);\r\n            envelope.gain.cancelScheduledValues(this.context.currentTime);\r\n            envelope.disconnect(this.context.destination);\r\n          }, this.attack * 10 + this.release * 10);\r\n    }\r\n\r\n}\r\n\r\nplay(freqOrNote, octave) {\r\n  // debugger\r\n  if (typeof freqOrNote === 'number') {\r\n      this.playFrequency(freqOrNote);\r\n  } else if (typeof freqOrNote === 'string') {\r\n      if (octave == null) {\r\n          octave = 4;\r\n      }\r\n      this.playFrequency(this.map[octave][freqOrNote.toLowerCase()]);\r\n  }\r\n}\r\n\r\ngetTimeMS() {\r\n  return this.context.currentTime * 1000;\r\n}\r\n\r\n\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}